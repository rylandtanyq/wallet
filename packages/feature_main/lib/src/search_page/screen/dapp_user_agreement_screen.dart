import 'package:flutter/material.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';
import 'package:shared_ui/theme/app_textStyle.dart';

class DappUserAgreementScreen extends StatelessWidget {
  const DappUserAgreementScreen({super.key});

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);

    return Scaffold(
      appBar: AppBar(
        surfaceTintColor: Colors.transparent,
        automaticallyImplyLeading: false,
        leading: GestureDetector(
          onTap: () {
            Feedback.forTap(context);
            Navigator.of(context).pop();
          },
          child: Icon(Icons.arrow_back_ios_new, size: 20.w, color: theme.colorScheme.onBackground),
        ),
        title: Text(
          'DApp 使用协议',
          style: AppTextStyles.headline4.copyWith(color: theme.colorScheme.onBackground, fontWeight: FontWeight.w600),
        ),
        centerTitle: true,
      ),
      body: SafeArea(
        child: SingleChildScrollView(
          padding: const EdgeInsets.all(16),
          child: Text(_kDappUserAgreementZh, style: theme.textTheme.bodyMedium?.copyWith(height: 1.5)),
        ),
      ),
    );
  }
}

const String _kDappUserAgreementZh = """
《DApp 使用协议》

重要提示：
在使用本钱包中的 DApp 浏览功能前，请您务必仔细阅读并充分理解本协议各条款，尤其是关于免责或责任限制的条款。若您不同意本协议的任一内容，请勿访问或使用任何 DApp；您点击“我已阅读并接受 DApp 使用协议”或实际使用相关功能的行为，即视为您已阅读、理解并同意受本协议约束。

一、协议主体

1.1 本协议由以下各方订立：
（1）易利科技有限公司（以下简称“本公司”或“易利科技”）；
（2）使用本公司提供的钱包应用（暂称“TT Wallet”，以下简称“本钱包”）内 DApp 相关功能的用户（以下简称“您”或“用户”）。

1.2 本协议适用于您通过本钱包访问、搜索、收藏、连接或使用任何第三方去中心化应用（DApp）及相关服务。

二、定义

2.1 “DApp（去中心化应用）”：指基于区块链或其他分布式账本技术运行的应用程序，其核心逻辑通常通过智能合约等方式在链上执行。

2.2 “DApp 浏览器/入口”：指本钱包内为您提供的第三方 DApp 聚合、展示和跳转功能，仅为您接入第三方 DApp 提供技术入口或链接。

2.3 “第三方服务提供方”：指开发、运营、维护具体 DApp 或相关服务的独立主体，与本公司在法律上相互独立。

2.4 “数字资产”：指以加密技术为基础、以区块链或类似技术为载体的具有价值或功能的数字化记录，包括但不限于加密货币、稳定币、功能型代币、NFT 等。

三、协议的接受与修改

3.1 当您在本钱包内勾选“我已阅读并接受 DApp 使用协议”、点击确认按钮或实际访问/使用 DApp 功能时，即视为您已阅读并同意本协议全部内容。

3.2 本公司有权根据业务需要或法律法规变化不时修改本协议，并在本钱包内以更新版本或其他合理方式进行提示。更新后的协议一经公布即自动生效，除非法律另有强制性规定。

3.3 若您不同意更新后的协议内容，应立即停止使用 DApp 相关功能；如您继续使用，视为您同意接受更新内容。

四、本钱包的角色与服务说明

4.1 本钱包向您提供的是区块链钱包基础功能以及 DApp 浏览器/入口服务，本钱包本身并不直接提供任何链上交易、质押、挖矿、借贷、游戏、衍生品等具体业务，这些业务均由相应的第三方 DApp 独立向您提供。

4.2 本钱包对第三方 DApp 仅提供技术接入、链接跳转、信息展示等中立工具服务，本公司不参与任何 DApp 的具体运营活动，不对其业务合规性、真实性、有效性、安全性、可用性或适用性作任何明示或暗示担保。

4.3 您在第三方 DApp 中进行的任何操作（包括但不限于授权、签名、交易、质押、借贷、挂单、参与活动、合约交互等），均属于您与该 DApp 或其运营方之间的法律关系，与本公司无关。

五、第三方 DApp 及第三方内容

5.1 您通过本钱包访问的 DApp（包括但不限于 DeFi、NFT、GameFi、衍生品、跨链桥、聚合交易、收益聚合、空投平台等）均由独立的第三方开发和运营。本公司无法也不会对其行为承担控制或监督义务。

5.2 第三方 DApp 页面、智能合约、白皮书、说明文档、运营活动、营销信息及其他内容，均由相应第三方自行编写和发布。本公司不对上述内容的真实性、准确性、完整性、合法性或可靠性做出任何保证。

5.3 当您跳转或连接到第三方 DApp 时，该 DApp 可能适用其单独的用户协议、隐私政策或其他条款。请您务必在使用前仔细阅读并自行判断是否接受；如您选择使用，即代表您接受相关条款。

5.4 若因第三方 DApp 运行异常、合约漏洞、项目方跑路、黑客攻击、停机维护、监管限制或其他原因导致您遭受资产或其他损失的，您应直接与该 DApp 或其运营方协商解决，本公司不承担任何赔偿、补偿或连带责任。

六、风险提示

6.1 数字资产与 DApp 相关活动存在较高风险，可能导致部分或全部资产损失。相关风险包括但不限于：
（1）市场风险：数字资产价格剧烈波动，可能出现短时间内大幅上涨或下跌；
（2）技术风险：区块链网络拥堵、分叉、网络攻击、智能合约漏洞、节点故障、预言机异常等；
（3）项目风险：DApp 项目存在运营失败、团队解散、跑路、欺诈、非法集资等可能；
（4）合规与监管风险：相关政策、法律法规可能发生变化，导致部分业务被限制、中止或禁止；
（5）操作风险：因您自身对区块链知识了解不足、误操作、私钥/助记词/密码管理不当、设备丢失或中毒等造成的损失；
（6）其他不可抗力或意外事件：包括但不限于自然灾害、战争、罢工、重大社会事件、电力中断、网络中断等。

6.2 在访问和使用任何 DApp 前，您应充分了解相关项目的技术原理、商业模式、团队背景、代币经济、风险提示等信息，自行进行研究和判断，并独立承担投资或使用决策的全部后果。

6.3 您知晓并理解：智能合约通常具有不可逆、不可篡改的特性，一旦您发起授权或交易，原则上无法撤销或更改。请在每一次签名、授权或发送交易前，务必仔细核对合约地址、金额、资产种类等关键信息。

七、用户承诺与合规义务

7.1 您承诺具备完全民事行为能力，能够独立承担使用本钱包及 DApp 的相关风险与法律后果。

7.2 您在使用本钱包及访问 DApp 时，应遵守所在国家/地区及相关司法辖区的法律法规，不得利用本钱包或任何 DApp 从事包括但不限于以下行为：
（1）洗钱、恐怖融资、走私、贩毒、赌博、欺诈、传销、诈骗等违法犯罪活动；
（2）侵犯他人合法权益，包括但不限于知识产权、隐私权、名誉权等；
（3）破坏网络与系统安全，包括但不限于恶意攻击、传播病毒、DDoS 等；
（4）其他法律法规禁止或本公司合理认为不适当的行为。

7.3 如因您违反本条款或相关法律法规而给本公司或任何第三方造成损失的，您应承担全部责任，并使本公司免受损害。

八、费用与税费

8.1 您在使用 DApp 时可能需要向区块链网络支付矿工费/Gas 费，或向第三方 DApp/服务提供方支付手续费、利息、平台服务费等，上述费用由相关网络或第三方独立收取，本公司不直接收取或代扣代缴，亦不承担解释和退还义务。

8.2 因您参与 DApp 活动产生的任何税费（包括但不限于个人所得税、增值税、印花税等），应由您自行根据适用法律法规向税务机关申报并缴纳，本公司不承担代扣代缴义务。

九、责任限制与免责

9.1 在法律允许的最大范围内，本公司就下列情形不向您承担任何直接或间接、实际或预期、已发生或将发生的损失责任，包括但不限于利润损失、数据丢失、业务中断、机会成本等：
（1）任何第三方 DApp 或其运营方的行为或不作为；
（2）第三方 DApp 的合约漏洞、技术故障、运营中断或安全事件；
（3）区块链底层网络的故障、分叉、拥堵、攻击或异常；
（4）因您自身原因导致的账户被盗、私钥/助记词泄露或遗失、设备被攻击或中毒、误操作等；
（5）因政策或法律法规变化导致的业务中止、限制或终止；
（6）其他非因本公司主观过错导致的损失。

9.2 本公司在任何情况下就本协议项下对您承担的全部责任总额（如有），以您在相关 DApp 功能中向本公司实际支付的服务费用总额为限；若本公司未向您收取任何费用，则本公司对您的责任总额为零。

9.3 您理解并同意，本公司按“现状”和“可用性”提供本钱包及 DApp 浏览器功能，不对其适销性、特定用途适用性、无错误或不中断运行等做任何明示或默示担保。

十、协议的暂停、中止与终止

10.1 在下列情形之一发生时，本公司有权在必要范围内暂停、中止或终止向您提供本钱包中全部或部分 DApp 相关功能，而无需事先通知，且无需对您或任何第三方承担责任：
（1）您涉嫌或被认定违反本协议、其他相关条款或适用法律法规；
（2）根据法律法规、监管要求或有权机关的命令需要采取上述措施；
（3）为维护系统安全或他人合法权益，在紧急情况下需要立即采取措施；
（4）其他本公司合理认为需要暂停、中止或终止服务的情形。

10.2 本协议终止后，本公司有权根据法律法规的要求继续保存您在使用本钱包及 DApp 相关功能过程中形成的记录；但法律无强制要求的，本公司可自主决定保留或删除相关数据。

十一、知识产权

11.1 本钱包及其相关功能由本公司开发并享有相应的知识产权，包括但不限于软件著作权、商标权、界面设计、文档资料等。未经本公司书面许可，您不得以任何方式复制、修改、传播、出售或用作其他商业用途。

11.2 第三方 DApp 及其平台上的内容、标识、商标、代码、界面、文档等知识产权由相应权利人享有，未经相关权利人许可，您不得擅自使用。

十二、适用法律与争议解决

12.1 本协议的订立、生效、履行、解释及争议解决，均适用本公司注册地所属法律（不包括其冲突规范）。

12.2 因本协议引起的或与本协议有关的任何争议，首先应由各方友好协商解决；协商不成的，任一方可将争议提交本公司注册地有管辖权的法院诉讼解决。

十三、其他

13.1 本协议部分条款被认定为无效、不合法或不可执行的，不影响其余条款的效力。

13.2 本协议的标题仅为阅读方便而设，不影响条款本身的含义或解释。

13.3 若本协议有多语言版本，如不同语言版本之间存在不一致或歧义，以简体中文版本为准。

如您对本协议内容有任何疑问或需要投诉、建议，您可通过本钱包中公布的客服渠道或易利科技有限公司官方联系方式与我们取得联系。
""";
